<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatBot</title>
<style>
    body {
        font-family: Arial;
        background: #f0f0f0;
        padding: 20px;
    }
    .chatbox {
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
        max-width: 400px;
        margin: auto;
        text-align: center;
    }
   
    button {
        margin-top: 10px;
        padding: 10px;
        width: 50%;
        cursor: pointer;
        background: #8e096f;
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 16px;
    }
</style>
</head>
<body>
    <div class="chatbox">
        <h2> Chatbot por Voz</h2>
        <button onclick="ouvir()">Falar Agora</button>
        <div id="respostaTexto" style="margin-top:12px;color:#333"></div>
    </div>

    <script>
        // Pergunta e resposta
        const pergunta = "como você está";
        const resposta = "Estou ótimo! Obrigado por perguntar.";

        // Função que fala (Text-to-Speech)
        function falar(texto) {
            const discurso = new SpeechSynthesisUtterance(texto);
            discurso.lang = "pt-BR";
            discurso.rate = 1;
            window.speechSynthesis.speak(discurso);
            const el = document.getElementById("respostaTexto");
            if (el) el.innerText = texto;
        }

        // Função que escuta (Speech Recognition)
        function ouvir() {
            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            if (!SpeechRecognition) {
                falar("Seu navegador não suporta reconhecimento de voz.");
                return;
            }

            const reconhecer = new SpeechRecognition();
            reconhecer.lang = "pt-BR";
            reconhecer.start();

            reconhecer.onresult = function(event) {
                const textoFalado = event.results[0][0].transcript.toLowerCase();
                if (textoFalado.includes(pergunta)) {
                    falar(resposta);
                } else {
                    falar("Desculpe, eu só entendo a pergunta: 'Como você está?' ");
                }
            };

            reconhecer.onerror = function(err) {
                console.error('Erro no reconhecimento:', err);
                falar('Ocorreu um erro ao reconhecer sua voz.');
            };
        }
    </script>
    
</body>
</html>
